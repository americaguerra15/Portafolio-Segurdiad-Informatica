<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Actividad 3 | Interpretación de políticas de filtrado en iptables</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="../../style.css">
</head>

<body>

   <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-content">
      <div class="logo">AG<span>.</span></div>

       <div class="links">
        <a href="../../index.html">Inicio</a>
        <a href="parcial1.html">Parcial 1</a>
      </div>
      
    </div>
  </nav>

  <div style="max-width: 1000px; margin: auto; padding: 50px 20px;">

    <div class="info-card" style="margin-top: 25px;">

      <div class="card-title">
        <i class="fas fa-shield-halved"></i>
        <h3>Actividad 3: Interpretación de políticas de filtrado en iptables</h3>
      </div>

      <p style="color:#64748b; margin-top:-10px;">
        <strong>Materia:</strong> CNO V. Seguridad Informática | 
        <strong>Semestre:</strong> 8º | 
        <strong>Fecha:</strong> 3 de Febrero de 2026 <br>
        <strong>Nombre:</strong> América Fabiola Guerra Ramírez - 179884
      </p>

    <hr style="border:none; border-top:1px solid #e2e8f0; margin:25px 0;">
    <h3>Introducción</h3>
      <p>
        La seguridad perimetral en sistemas operativos basados en Linux constituye un pilar fundamental para la protección de la integridad y disponibilidad de la información. 
        El presente documento detalla la interpretación y traducción de políticas de filtrado mediante el uso de iptables, una herramienta de administración de reglas de firewall 
        en el espacio de usuario. A través de este ejercicio, se analizan los componentes estructurales de una regla de filtrado, la jerarquía de las tablas (FILTER, NAT, MANGLE, RAW y SECURITY) 
        y el flujo de los paquetes de red a través de las distintas cadenas. El objetivo principal es consolidar los conocimientos prácticos para la gestión del tráfico TCP/IP, 
        permitiendo o denegando conexiones en puertos críticos como el 22 (SSH), 80 (HTTP) y 443 (HTTPS) bajo condiciones específicas de estado y origen
      </p>

      <h3>1. Completa los espacios conforme se explica el flujo del paquete</h3>
      <p>
        Cuando un paquete llega al sistema, primero pasa por una <b>tabla</b>, 
        después por una <b>cadena</b> y finalmente se ejecuta una <b>regla</b>
      </p>

      <h3>2. Relaciona cada tabla con su propósito principal.</h3>

      <div style="overflow-x:auto; margin-top:20px;">
        <table style="width:100%; border-collapse:collapse; min-width:900px;">
          <thead>
            <tr style="background:#f8fafc;">
              <th style="border:1px solid #e2e8f0; padding:12px;">Tabla</th>
              <th style="border:1px solid #e2e8f0; padding:12px;">Propósito principal</th>
              <th style="border:1px solid #e2e8f0; padding:12px;">Ejemplo de uso (01 palabra o frase corta)</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>FILTER</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Filtar paquetes</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Bloquear puertos</td>
            </tr>

            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>NAT</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Traducción de direcciones</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Compartir internet</td>
            </tr>

            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>MANGLE</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Modificar paquetes</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Cambiar Cabeceras</td>
            </tr>

            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>RAW</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Excepcion al seguimiento</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Paquetes no inspeccionados</td>
            </tr>

            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>SECURITY</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Aplicar políticas de seguirdad</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Seguridad adicinal</td>
            </tr>
            
          </tbody>
        </table>
      </div>

      <h3>3. Anatomía de un comando iptables: </h3>
      <p>
        iptables -A <b>INPUT</b> -p tcp -m <b>multiport</b> --dports 80,443 -j <b>ACCEPT</b>
      </p>

      <h3>4. Este comando permite: </h3>
      <p>
        El trafico TCP hacía los puetos 80 y 443 
      </p>

      <h3>5. Variables y opciones comunes </h3>
      <p><b>a) Limitar intentos por minuto</b></p>
      <p>-- limit 5/minute </p>
      
      <p><b>b) Filtrar por IP de origen</b></p>
      <p>-s 192.168.1.0/32 </p>
      
      <p><b>c) Ver solo números, sin DNS (ni resolución de puetos)</b></p>
      <p>iptables -L -n </p>

      <p><b>d) Ver reglas con contadores (paquetes y bytes) </b></p>
      <p>iptables -L -v </p>

      <h3>6. ¿Qué hace esta regla?</h3>
      <p>
       <b>iptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 \ -m satate --state NEW, ESTABLESHED -j ACCEPT</b>
      </p>
      <p> Permite el trafico TCP entrante por la interfaz eth0 hacía los puertos 22, 80 y 443 siempre y cuando sea nueva y este establecida</p>

      <h3>7. Permitir tráfico HTTP entrante</h3>
      <p> iptables -A INPUT -p tcp --dport 80 -j ACCEPT</p>

      <h3>8. Permitir todo el tráfico saliente</h3>
      <p> iptables -A OUTPUT -j ACCEPT</p>

      <h3>9. Permitir SSH solo desde la IP 192.168.1.50</h3>
      <p> iptables -A INPUT -p tcp --dport 22 -s 192.168.1.50 -j ACCEPT</p>
      
      <h3>10. Permitir tráfico TCP entrante a purtos 80 y 443 solo si es conexión establecida o relacionada</h3>
      <p> iptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 -m satate --state ESTABLESHED, RELATED -j ACCEPT</p>
      
       <h3>11. Permitir tráfico TCP entrante por eth0 a 22, 80 y 443 registrar intento y permitir solo NEW y ESTABLESHED</h3>
      <p> iptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 -m satate --state NEW, ESTABLESHES -j LOG --log -prefix "conexion Nueva: " -j ACCEPT</p>

      <h3 style="margin-top:40px;">Contenido Multimedia</h3>
      <p>
        En esta sección se incluyen recursos visuales y audiovisuales relacionados con el funcionamiento de iptables,
        el flujo de paquetes y las tablas/cadenas del firewall en Linux.
      </p>

      <h3>Conclusión</h3>
      <p>En conclusión, el dominio de la sintaxis y la lógica de iptables permite implementar políticas de seguridad granulares y adaptadas a las 
        necesidades de una infraestructura de red específica. A lo largo de la actividad, se demostró la importancia de distinguir entre los estados de conexión 
        (NEW, ESTABLISHED, RELATED) para optimizar el filtrado de tráfico entrante y saliente. Asimismo, la integración de módulos adicionales como multiport y state, 
        junto con el registro de eventos mediante LOG, fortalece la capacidad de auditoría y respuesta ante posibles intrusiones. Esta práctica reafirma que una 
        configuración correcta de las tablas y cadenas es esencial para reducir la superficie de ataque y garantizar un entorno de red controlado y seguro.
      </p>
      
      <!-- IMÁGENES -->
      <h4 style="margin-top:25px;">Imágenes</h4>
      
      <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:15px; margin-top:15px;">
      
        <div style="background:#f8fafc; padding:15px; border-radius:15px; border:1px solid #e2e8f0;">
          <img src="../../img/iptables.jpg" alt="Flujo de paquetes Netfilter" style="width:100%; border-radius:12px;">
          <p style="margin-top:10px; font-size:14px; color:#475569;">
            Imagen 1: Diagrama del flujo de paquetes en Netfilter (iptables).
          </p>
        </div>
      
        <div style="background:#f8fafc; padding:15px; border-radius:15px; border:1px solid #e2e8f0;">
          <img src="../../img/tablas.png" alt="Tablas y cadenas iptables" style="width:100%; border-radius:12px;">
          <p style="margin-top:10px; font-size:14px; color:#475569;">
            Imagen 2: Tablas y cadenas principales (INPUT, OUTPUT, FORWARD).
          </p>
        </div>
      
      </div>
      
      <!-- VIDEO DE YOUTUBE -->
      <h4 style="margin-top:30px;">Video Explicativo</h4>

      <div style="margin-top:20px; border-radius:18px; overflow:hidden; box-shadow:0px 8px 20px rgba(0,0,0,0.20);">
        
        <div style="position:relative; width:100%; padding-top:56.25%;">
          <iframe 
            src="https://www.youtube.com/embed/Gx_36CysrB4"
            title="Video explicativo"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            style="position:absolute; top:0; left:0; width:100%; height:100%;">
          </iframe>
        </div>
      
      </div>


      
      <!-- BOTÓN EXPORTAR PDF -->
      <div style="margin-top: 35px; text-align: center;">
        <a href="../../pdf/179884-act07.pdf" class="activity-btn" target="_blank">
          <i class="fas fa-file-pdf"></i> Exportar PDF
        </a>
      </div>

    </div>

  </div>

</body>
</html>
