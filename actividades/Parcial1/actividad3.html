<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Actividad 3 | Interpretación de políticas de filtrado en iptables</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="../../style.css">
</head>

<body>

  <div style="max-width: 1000px; margin: auto; padding: 50px 20px;">

    <a href="../index.html" style="text-decoration:none; font-weight:700; color:#334155;">
      ← Volver al Portafolio
    </a>

    <div class="info-card" style="margin-top: 25px;">

      <div class="card-title">
        <i class="fas fa-shield-halved"></i>
        <h3>Actividad 3: Interpretación de políticas de filtrado en iptables</h3>
      </div>

      <p style="color:#64748b; margin-top:-10px;">
        <strong>Materia:</strong> CNO V. Seguridad Informática | 
        <strong>Semestre:</strong> 8º | 
        <strong>Fecha:</strong> 3 de Febrero de 2026 <br>
        <strong>Nombre:</strong> América Fabiola Guerra Ramírez - 179884
      </p>

    <hr style="border:none; border-top:1px solid #e2e8f0; margin:25px 0;">

      <h3>1. Completa los espacios conforme se explica el flujo del paquete</h3>
      <p>
        Cuando un paquete llega al sistema, primero pasa por una <b>tabla</b>, 
        después por una <b>cadena</b> y finalmente se ejecuta una <b>regla</b>
      </p>

      <h3>2. Relaciona cada tabla con su propósito principal.</h3>

      <div style="overflow-x:auto; margin-top:20px;">
        <table style="width:100%; border-collapse:collapse; min-width:900px;">
          <thead>
            <tr style="background:#f8fafc;">
              <th style="border:1px solid #e2e8f0; padding:12px;">Tabla</th>
              <th style="border:1px solid #e2e8f0; padding:12px;">Propósito principal</th>
              <th style="border:1px solid #e2e8f0; padding:12px;">Ejemplo de uso (01 palabra o frase corta)</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>FILTER</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Filtar paquetes</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Bloquear puertos</td>
            </tr>

            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>NAT</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Traducción de direcciones</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Compartir internet</td>
            </tr>

            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>MANGLE</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Modificar paquetes</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Cambiar Cabeceras</td>
            </tr>

            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>RAW</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Excepcion al seguimiento</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Paquetes no inspeccionados</td>
            </tr>

            <tr>
              <td style="border:1px solid #e2e8f0; padding:12px;"><b>SECURITY</b></td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Aplicar políticas de seguirdad</td>
              <td style="border:1px solid #e2e8f0; padding:12px;">Seguridad adicinal</td>
            </tr>
            
          </tbody>
        </table>
      </div>

      <h3>3. Anatomía de un comando iptables: </h3>
      <p>
        iptables -A <b>INPUT</b> -p tcp -m <b>multiport</b> --dports 80,443 -j <b>ACCEPT</b>
      </p>

      <h3>4. Este comando permite: </h3>
      <p>
        El trafico TCP hacía los puetos 80 y 443 
      </p>

      <h3>5. Variables y opciones comunes </h3>
      <p><b>a) Limitar intentos por minuto</b></p>
      <p>-- limit 5/minute </p>
      
      <p><b>b) Filtrar por IP de origen</b></p>
      <p>-s 192.168.1.0/32 </p>
      
      <p><b>c) Ver solo números, sin DNS (ni resolución de puetos)</b></p>
      <p>iptables -L -n </p>

      <p><b>d) Ver reglas con contadores (paquetes y bytes) </b></p>
      <p>iptables -L -v </p>

      <h3>6. ¿Qué hace esta regla?</h3>
      <p>
       <b>iptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 \ -m satate --state NEW, ESTABLESHED -j ACCEPT</b>
      </p>
      <p> Permite el trafico TCP entrante por la interfaz eth0 hacía los puertos 22, 80 y 443 siempre y cuando sea nueva y este establecida</p>

      <h3>7. Permitir tráfico HTTP entrante</h3>
      <p> iptables -A INPUT -p tcp --dport 80 -j ACCEPT</p>

      <h3>8. Permitir todo el tráfico saliente</h3>
      <p> iptables -A OUTPUT -j ACCEPT</p>

      <h3>9. Permitir SSH solo desde la IP 192.168.1.50</h3>
      <p> iptables -A INPUT -p tcp --dport 22 -s 192.168.1.50 -j ACCEPT</p>
      
      <h3>10. Permitir tráfico TCP entrante a purtos 80 y 443 solo si es conexión establecida o relacionada</h3>
      <p> iptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 -m satate --state ESTABLESHED, RELATED -j ACCEPT</p>
      
       <h3>11. Permitir tráfico TCP entrante por eth0 a 22, 80 y 443 registrar intento y permitir solo NEW y ESTABLESHED</h3>
      <p> iptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 -m satate --state NEW, ESTABLESHES -j LOG --log -prefix "conexion Nueva: " -j ACCEPT</p>

      <!-- BOTÓN EXPORTAR PDF -->
      <div style="margin-top: 35px; text-align: center;">
        <a href="../pdf/179884-act02.pdf" class="pdf-btn" target="_blank">
          <i class="fas fa-file-pdf"></i> Exportar PDF
        </a>
      </div>

    </div>

  </div>

</body>
</html>
